var O=Object.defineProperty;var A=(y,l,e)=>l in y?O(y,l,{enumerable:!0,configurable:!0,writable:!0,value:e}):y[l]=e;var p=(y,l,e)=>A(y,typeof l!="symbol"?l+"":l,e);import{r as S,A as E,j as n,g as G,u as z,b as L,c as P,a as B,d as Y}from"./index-D37ojhM8.js";import{P as w}from"./vendor-phaser-iZDVk5aZ.js";const W=26,I=6,D=1,q=.25,m=E.flatMap(y=>y.scenes);class N extends w.Scene{constructor(){super({key:"WebSwingingScene"});p(this,"spider");p(this,"targets",[]);p(this,"activeWeb",null);p(this,"lastPointerWasRightClick",!1);p(this,"isDragging",!1);p(this,"dragStartX",0);p(this,"dragStartY",0);p(this,"trajectoryGraphics");p(this,"webGraphics");p(this,"webs",5);p(this,"cuts",3);p(this,"score",0);p(this,"currentGravity",800);p(this,"sceneData");p(this,"sceneId","ch1-s1");p(this,"sceneIndex",0);p(this,"uiText");p(this,"goalSprite");p(this,"platforms",null);p(this,"handleExternalSetScene",e=>{var i,o;const t=(i=e.detail)==null?void 0:i.sceneIndex,s=(o=e.detail)==null?void 0:o.sceneId;if(s&&P[s]){this.scene.restart({sceneId:s});return}typeof t=="number"&&t>=0&&t<m.length&&this.scene.restart({sceneIndex:t})});p(this,"handleAction",e=>{const{correct:t,action:s}=e.detail||{};if(typeof t!="boolean")return;this.currentGravity=t?600:1e3,this.physics.world.gravity.y=this.currentGravity,this.activeWeb&&!this.activeWeb.cut&&(this.activeWeb.ropeLength*=t?.92:1.08),this.score+=t?100:-50,this.updateUI();const i=this.add.text(400,100,t?"Correct! ‚úì":"Wrong! ‚úó",{fontSize:"32px",color:t?"#00ff00":"#ff0000",fontStyle:"bold"}).setOrigin(.5);this.tweens.add({targets:i,alpha:0,y:50,duration:1500,onComplete:()=>i.destroy()})})}init(e){const t=e.sceneId||(typeof e.sceneIndex=="number"?m[Math.max(0,Math.min(m.length-1,e.sceneIndex))]:void 0);this.sceneId=t||this.sceneId,this.sceneIndex=m.indexOf(this.sceneId),this.sceneData=G(this.sceneId);try{z.getState().setCurrentSceneId(this.sceneData.id)}catch{}}create(){var t;this.createBackground(),this.trajectoryGraphics=this.add.graphics(),this.trajectoryGraphics.setDepth(200),this.webGraphics=this.add.graphics(),this.webGraphics.setDepth(110),this.platforms=this.physics.add.staticGroup(),this.sceneData.platforms.forEach(s=>{const i=this.add.rectangle(s.x+s.width/2,s.y+s.height/2,s.width,s.height,9127187);this.physics.add.existing(i,!0),i.body.setOffset(-s.width/2,-s.height/2),this.platforms.add(i)}),this.spider=this.physics.add.sprite(150,450,""),this.spider.setDisplaySize(40,40),this.spider.setCircle(20),this.spider.setBounce(.2),this.spider.setCollideWorldBounds(!0),this.physics.world.gravity.y=this.currentGravity,this.createSpiderTexture(),this.spider.body.setDrag(.5,.5),this.physics.add.collider(this.spider,this.platforms),this.createWebTargets(),this.createObstacles(),this.createGoal();const e=L(this.sceneId);window.dispatchEvent(new CustomEvent("request-question",{detail:{question:{id:e.id,question:e.text,options:e.options.map(s=>s.text),correctIndex:e.options.findIndex(s=>s.correct),actionType:((t=e.options.find(s=>s.correct))==null?void 0:t.action)||"jump",concept:e.concept,hint:e.hint,storyContext:e.storyContext}}})),this.sceneData.obstacles.forEach((s,i)=>{const o=this.children.list.find(r=>r instanceof w.GameObjects.Sprite&&r.texture&&r.texture.key===`${s.type}-${i}`);o&&(this.physics.add.existing(o,!0),this.physics.add.collider(this.spider,o,()=>{this.handleObstacleCollision(s.type)}))}),this.uiText=this.add.text(10,10,"",{fontSize:"16px",color:"#ffffff",backgroundColor:"#000000aa",padding:{x:10,y:5}}),this.uiText.setDepth(1e3),this.updateUI(),this.input.on("pointerdown",this.onPointerDown,this),this.input.on("pointermove",this.onPointerMove,this),this.input.on("pointerup",this.onPointerUp,this),this.input.on("pointerout",this.onPointerOut,this),window.addEventListener("spidercalc-action",this.handleAction),window.addEventListener("web-swinging-set-scene",this.handleExternalSetScene)}createBackground(){const e=this.add.graphics();e.fillGradientStyle(1710638,1710638,2956137,2956137,1),e.fillRect(0,0,800,600),e.setDepth(-100);const t=this.add.graphics();t.fillStyle(0,.2),t.fillRect(0,0,800,600),t.setDepth(-99)}createSpiderTexture(){const e=this.add.graphics();e.fillStyle(9133302,1),e.fillCircle(20,20,12),e.fillStyle(7153881,1),e.fillCircle(20,12,6),e.lineStyle(4,9133302,1);for(let t=0;t<8;t++){const s=t*Math.PI/4,i=20+Math.cos(s)*10,o=20+Math.sin(s)*10,r=20+Math.cos(s)*18,d=20+Math.sin(s)*18;e.beginPath(),e.moveTo(i,o),e.lineTo(r,d),e.strokePath()}e.fillStyle(16711680,1),e.fillCircle(17,10,2),e.fillCircle(23,10,2),e.generateTexture("spider",40,40),e.destroy(),this.spider.setTexture("spider")}createWebTargets(){this.sceneData.webPoints.forEach((e,t)=>{const s=this.add.sprite(e.x,e.y,""),i=this.add.graphics();i.fillStyle(16766720,.3),i.fillCircle(0,0,25),i.fillStyle(16766720,1),i.fillCircle(0,0,18),i.fillStyle(16776960,1),i.fillCircle(0,0,12),i.lineStyle(3,16755200,1),i.strokeCircle(0,0,18),i.lineStyle(2,9133302,1),i.strokeCircle(0,0,8),i.lineStyle(1,9133302,1),i.lineBetween(-6,-6,6,6),i.lineBetween(-6,6,6,-6),i.generateTexture("anchor",50,50),i.destroy(),s.setTexture("anchor"),s.setInteractive(),this.tweens.add({targets:s,scale:{from:1,to:1.4},duration:1e3,yoyo:!0,repeat:-1,ease:"Sine.easeInOut"}),this.tweens.add({targets:s,angle:{from:0,to:360},duration:3e3,repeat:-1,ease:"Linear"}),this.targets.push({id:`anchor-${t}`,x:e.x,y:e.y,type:"anchor",sprite:s,active:!0})})}createObstacles(){this.sceneData.obstacles.forEach((e,t)=>{const s=this.add.sprite(e.x,e.y,""),i=this.add.graphics();switch(e.type){case"spike":i.fillStyle(16711680,1),i.fillTriangle(0,-e.height/2,-e.width/2,e.height/2,e.width/2,e.height/2),i.lineStyle(2,13369344,1),i.strokeTriangle(0,-e.height/2,-e.width/2,e.height/2,e.width/2,e.height/2),i.generateTexture(`spike-${t}`,e.width,e.height);break;case"fire":i.fillStyle(16729344,1),i.fillRect(-e.width/2,-e.height/2,e.width,e.height),i.lineStyle(2,16711680,1),i.strokeRect(-e.width/2,-e.height/2,e.width,e.height),i.generateTexture(`fire-${t}`,e.width,e.height);break;case"ice":i.fillStyle(8900331,1),i.fillRect(-e.width/2,-e.height/2,e.width,e.height),i.lineStyle(2,4620980,1),i.strokeRect(-e.width/2,-e.height/2,e.width,e.height),i.generateTexture(`ice-${t}`,e.width,e.height);break;case"electric":i.fillStyle(65535,1),i.fillRect(-e.width/2,-e.height/2,e.width,e.height),i.lineStyle(2,33023,1),i.strokeRect(-e.width/2,-e.height/2,e.width,e.height),i.generateTexture(`electric-${t}`,e.width,e.height);break;case"void":i.fillStyle(0,.8),i.fillRect(-e.width/2,-e.height/2,e.width,e.height),i.lineStyle(2,8388736,1),i.strokeRect(-e.width/2,-e.height/2,e.width,e.height),i.generateTexture(`void-${t}`,e.width,e.height);break}i.destroy(),s.setTexture(`${e.type}-${t}`),s.setDisplaySize(e.width,e.height),s.setDepth(120),this.addObstacleAnimation(s,e.type)})}addObstacleAnimation(e,t){switch(t){case"spike":this.tweens.add({targets:e,tint:16737894,duration:500,yoyo:!0,repeat:-1,ease:"Sine.easeInOut"});break;case"fire":this.tweens.add({targets:e,alpha:.7,duration:200,yoyo:!0,repeat:-1,ease:"Sine.easeInOut"});break;case"ice":this.tweens.add({targets:e,scaleX:1.1,scaleY:1.1,duration:1e3,yoyo:!0,repeat:-1,ease:"Sine.easeInOut"});break;case"electric":this.tweens.add({targets:e,tint:16777215,duration:100,yoyo:!0,repeat:-1,ease:"Sine.easeInOut"});break;case"void":this.tweens.add({targets:e,angle:360,duration:2e3,repeat:-1,ease:"Linear"});break}}createGoal(){const e=this.sceneData.goal;this.goalSprite=this.add.sprite(e.x,e.y,"");const t=this.add.graphics();t.fillStyle(65280,.3),t.fillCircle(0,0,35),t.fillStyle(65280,1),t.fillCircle(0,0,25),t.fillStyle(65408,1),t.fillCircle(0,0,15),t.lineStyle(4,43520,1),t.strokeCircle(0,0,25),t.fillStyle(16766720,1),t.fillTriangle(0,-8,-6,4,6,4),t.lineStyle(2,16755200,1),t.strokeTriangle(0,-8,-6,4,6,4),t.generateTexture("goal",70,70),t.destroy(),this.goalSprite.setTexture("goal"),this.goalSprite.setDepth(100);const s=this.add.text(e.x,e.y-50,"üéØ GOAL",{fontSize:"18px",color:"#00ff00",fontStyle:"bold",stroke:"#000000",strokeThickness:3}).setOrigin(.5);s.setDepth(101),this.tweens.add({targets:this.goalSprite,scaleX:1.2,scaleY:1.2,duration:1e3,yoyo:!0,repeat:-1,ease:"Sine.easeInOut"}),this.tweens.add({targets:s,alpha:.7,duration:800,yoyo:!0,repeat:-1,ease:"Sine.easeInOut"}),this.targets.push({id:"goal",x:e.x,y:e.y,type:"goal",sprite:this.goalSprite,active:!0})}attachWeb(e){var r,d;const t=e.x-this.spider.x,s=e.y-this.spider.y,i=Math.hypot(t,s);(d=(r=this.activeWeb)==null?void 0:r.line)==null||d.destroy();const o=this.spider.body;o.velocity.x,o.velocity.y,this.activeWeb={toX:e.x,toY:e.y,target:e,ropeLength:Math.max(40,i),cut:!1,line:this.add.graphics().setDepth(150)},this.webs=Math.max(0,this.webs-1),this.score+=50,this.updateUI()}detachWeb(){var e;this.activeWeb&&((e=this.activeWeb.line)==null||e.destroy(),this.activeWeb=null)}enforceRopeConstraint(e){if(!this.activeWeb||this.activeWeb.cut)return;const t=this.spider.body,s=this.activeWeb.toX,i=this.activeWeb.toY,o=this.spider.x,r=this.spider.y;let d=o-s,x=r-i,c=Math.hypot(d,x);c===0&&(d=0,x=1,c=1);const a=d/c,h=x/c,f=this.activeWeb.ropeLength;if(c>f){const g=s+a*f,u=i+h*f,b=w.Math.Linear(o,g,D),j=w.Math.Linear(r,u,D);this.spider.setPosition(b,j);const v=t.velocity.x,T=t.velocity.y,C=v*a+T*h,R=v-C*a,M=T-C*h,k=C*(1-q);t.setVelocity(R+k*a,M+k*h)}t.setAcceleration(0,0),this.activeWeb.line.clear(),this.activeWeb.line.lineStyle(4,9133302,1),this.activeWeb.line.lineBetween(this.spider.x,this.spider.y,s,i),this.activeWeb.line.lineStyle(6,9133302,.3),this.activeWeb.line.lineBetween(this.spider.x,this.spider.y,s,i)}onPointerDown(e){e.leftButtonDown()&&this.webs>0?(this.isDragging=!0,this.dragStartX=e.x,this.dragStartY=e.y):e.rightButtonDown()&&this.onRightClick(e)}onPointerMove(e){if(this.isDragging){const t=e.x-this.dragStartX,s=e.y-this.dragStartY,i=Math.atan2(s,t),o=Math.sqrt(t*t+s*s),r=Math.min(o/5,200);this.drawTrajectory(i,r)}}onPointerUp(e){if(this.isDragging&&e.leftButtonReleased()){this.isDragging=!1,this.trajectoryGraphics.clear();const t=e.x-this.dragStartX,s=e.y-this.dragStartY,i=Math.atan2(s,t),o=Math.sqrt(t*t+s*s),r=Math.min(o/5,200);this.shootWeb(i,r)}}onPointerOut(){this.isDragging&&(this.isDragging=!1,this.trajectoryGraphics.clear())}onRightClick(e){if(this.lastPointerWasRightClick=!0,!(this.cuts<=0)){if(this.activeWeb&&!this.activeWeb.cut&&this.pointToLineDistance(e.x,e.y,this.spider.x,this.spider.y,this.activeWeb.toX,this.activeWeb.toY)<24){this.activeWeb.cut=!0,this.cuts--,this.detachWeb(),this.updateUI();return}this.cutNearestWeb(e.x,e.y)}}drawTrajectory(e,t){this.trajectoryGraphics.clear(),this.trajectoryGraphics.lineStyle(2,16776960,.6);const s=this.spider.x,i=this.spider.y,o=this.physics.world.gravity.y,r=t*I;let d=null,x=0,c=0;for(let a=0;a<=2;a+=.05){const h=s+r*Math.cos(e)*a,f=i+r*Math.sin(e)*a+.5*o*a*a;if(a===0?this.trajectoryGraphics.moveTo(h,f):this.trajectoryGraphics.lineTo(h,f),!d){for(const g of this.targets)if(Math.hypot(h-g.x,f-g.y)<W&&g.active&&(g.type==="anchor"||g.type==="goal")){d=g,x=h,c=f;break}}if(d)break}this.trajectoryGraphics.strokePath(),d&&(this.trajectoryGraphics.fillStyle(16711680,.9),this.trajectoryGraphics.fillCircle(x,c,5))}shootWeb(e,t){const s=this.spider.x,i=this.spider.y,o=this.physics.world.gravity.y,r=t*I;let d=null;for(let x=0;x<=2;x+=.05){const c=s+r*Math.cos(e)*x,a=i+r*Math.sin(e)*x+.5*o*x*x;for(const h of this.targets){if(!h.active||h.type!=="anchor"&&h.type!=="goal")continue;if(Math.hypot(c-h.x,a-h.y)<W){d=h;break}}if(d)break}this.spider.setVelocity(r*Math.cos(e),r*Math.sin(e)),d&&this.webs>0&&(this.detachWeb(),this.attachWeb(d),d.type==="goal"&&this.time.delayedCall(500,()=>this.completeLevel()))}cutNearestWeb(e,t){this.activeWeb&&!this.activeWeb.cut&&this.pointToLineDistance(e,t,this.spider.x,this.spider.y,this.activeWeb.toX,this.activeWeb.toY)<30&&(this.activeWeb.cut=!0,this.cuts--,this.detachWeb(),this.updateUI())}pointToLineDistance(e,t,s,i,o,r){const d=e-s,x=t-i,c=o-s,a=r-i,h=d*c+x*a,f=c*c+a*a;let g=-1;f!==0&&(g=h/f);let u,b;g<0?(u=s,b=i):g>1?(u=o,b=r):(u=s+g*c,b=i+g*a);const j=e-u,v=t-b;return Math.sqrt(j*j+v*v)}updateUI(){const e=m.length;this.uiText.setText(`Webs: ${this.webs} | Cuts: ${this.cuts} | Score: ${this.score}
Scene: ${this.sceneData.name}`),window.dispatchEvent(new CustomEvent("web-swinging-stats-update",{detail:{webs:this.webs,cuts:this.cuts,score:this.score,currentScene:this.sceneData.name,sceneIndex:this.sceneIndex,totalScenes:e}}))}completeLevel(){B.playVictorySound(),this.add.rectangle(400,300,800,600,0,.7).setDepth(999),this.add.text(400,250,"Level Complete!",{fontSize:"48px",color:"#00ff00",fontStyle:"bold"}).setOrigin(.5).setDepth(1e3),this.add.text(400,320,`Final Score: ${this.score}`,{fontSize:"32px",color:"#ffffff"}).setOrigin(.5).setDepth(1e3),this.time.delayedCall(3e3,()=>{const t=Y(this.sceneId);t?this.scene.restart({sceneId:t}):this.add.text(400,400,"Game Complete!",{fontSize:"36px",color:"#ffd700",fontStyle:"bold"}).setOrigin(.5).setDepth(1e3)})}update(e,t){const s=t/1e3;this.webGraphics.clear(),this.enforceRopeConstraint(s),Math.hypot(this.spider.x-this.sceneData.goal.x,this.spider.y-this.sceneData.goal.y)<30&&this.completeLevel()}handleObstacleCollision(e){switch(console.log(`üí• Spider hit ${e} obstacle!`),e){case"spike":this.score-=50,this.showObstacleEffect("üíÄ Spike Damage!",16711680),this.spider.setTint(16711680),setTimeout(()=>this.spider.clearTint(),500);break;case"fire":this.score-=30,this.showObstacleEffect("üî• Fire Burn!",16729344),this.spider.setTint(16729344),setTimeout(()=>this.spider.clearTint(),1e3);break;case"ice":this.score-=20,this.showObstacleEffect("‚ùÑÔ∏è Ice Slow!",8900331),this.spider.setTint(8900331),setTimeout(()=>this.spider.clearTint(),1500);break;case"electric":this.score-=40,this.showObstacleEffect("‚ö° Electric Shock!",65535),this.spider.setTint(65535),setTimeout(()=>this.spider.clearTint(),300);break;case"void":this.score-=100,this.showObstacleEffect("üï≥Ô∏è Void Damage!",8388736),this.spider.setTint(8388736),setTimeout(()=>this.spider.clearTint(),2e3);break}this.updateUI()}showObstacleEffect(e,t){const s=this.add.text(400,200,e,{fontSize:"24px",color:"#ffffff",fontStyle:"bold",stroke:"#000000",strokeThickness:3}).setOrigin(.5);s.setTint(t),s.setDepth(1e3),this.tweens.add({targets:s,alpha:0,y:150,duration:1500,ease:"Power2",onComplete:()=>s.destroy()})}destroy(){window.removeEventListener("spidercalc-action",this.handleAction),window.removeEventListener("web-swinging-set-scene",this.handleExternalSetScene)}}function H(){const y=S.useRef(null),[l,e]=S.useState(null),[t,s]=S.useState(0),[i,o]=S.useState(null),[r,d]=S.useState({webs:5,cuts:3,currentScene:"",sceneIndex:0,totalScenes:E.flatMap(c=>c.scenes).length});S.useEffect(()=>{const c={type:w.AUTO,width:800,height:600,parent:"web-swinging-container",physics:{default:"arcade",arcade:{gravity:{y:800,x:0},debug:!1}},scene:N,backgroundColor:"#000000"};y.current=new w.Game(c);const a=f=>{e(f.detail.question)},h=f=>{const g=f;g.detail&&(d(g.detail),typeof g.detail.score=="number"&&s(g.detail.score))};return window.addEventListener("request-question",a),window.addEventListener("web-swinging-stats-update",h),()=>{var f;window.removeEventListener("request-question",a),window.removeEventListener("web-swinging-stats-update",h),(f=y.current)==null||f.destroy(!0)}},[]);const x=c=>{if(!l)return;const a=c===l.correctIndex;o(c),window.dispatchEvent(new CustomEvent("spidercalc-action",{detail:{correct:a,action:l.actionType}})),setTimeout(()=>{o(null)},1500)};return n.jsxs("div",{style:{display:"flex",gap:"20px",padding:"20px",backgroundColor:"#0f0f23",minHeight:"100vh",color:"#ffffff",fontFamily:"Creepster, cursive, Impact, Arial Black, sans-serif"},children:[n.jsxs("div",{style:{flex:1},children:[n.jsx("div",{id:"web-swinging-container",style:{border:"3px solid #8b5cf6",borderRadius:"8px",overflow:"hidden"}}),n.jsxs("div",{style:{marginTop:"20px",padding:"20px",background:"linear-gradient(135deg, #1a1a2e 0%, #2d1b69 100%)",borderRadius:"8px",border:"2px solid #8b5cf6",boxShadow:"0 4px 20px rgba(139, 92, 246, 0.3)"},children:[n.jsx("h3",{style:{margin:"0 0 15px 0",color:"#ffd700",fontSize:"18px",fontWeight:"bold",textAlign:"center"},children:"üï∑Ô∏è SPIDER-MAN WEB-SWINGING"}),n.jsxs("div",{style:{display:"flex",justifyContent:"space-around",marginBottom:"15px"},children:[n.jsxs("div",{style:{textAlign:"center"},children:[n.jsx("div",{style:{fontSize:"24px",fontWeight:"bold",color:"#8b5cf6"},children:r.webs}),n.jsx("div",{style:{fontSize:"12px",color:"#aaa"},children:"Webs"})]}),n.jsxs("div",{style:{textAlign:"center"},children:[n.jsx("div",{style:{fontSize:"24px",fontWeight:"bold",color:"#ff6b6b"},children:r.cuts}),n.jsx("div",{style:{fontSize:"12px",color:"#aaa"},children:"Cuts"})]}),n.jsxs("div",{style:{textAlign:"center"},children:[n.jsx("div",{style:{fontSize:"24px",fontWeight:"bold",color:"#ffd700"},children:t}),n.jsx("div",{style:{fontSize:"12px",color:"#aaa"},children:"Score"})]})]}),n.jsxs("div",{style:{padding:"12px",backgroundColor:"rgba(0, 0, 0, 0.3)",borderRadius:"6px",fontSize:"13px"},children:[n.jsxs("div",{style:{marginBottom:"8px"},children:[n.jsx("span",{style:{color:"#8b5cf6",fontSize:"16px"},children:"üñ±Ô∏è "}),n.jsx("strong",{style:{color:"#fff"},children:"Left Drag:"}),n.jsx("span",{style:{color:"#aaa"},children:" Aim web trajectory"})]}),n.jsxs("div",{style:{marginBottom:"8px"},children:[n.jsx("span",{style:{color:"#ff6b6b",fontSize:"16px"},children:"‚úÇÔ∏è "}),n.jsx("strong",{style:{color:"#fff"},children:"Right Click:"}),n.jsx("span",{style:{color:"#aaa"},children:" Cut rope"})]}),n.jsxs("div",{children:[n.jsx("span",{style:{color:"#00ff00",fontSize:"16px"},children:"üéØ "}),n.jsx("strong",{style:{color:"#fff"},children:"Goal:"}),n.jsx("span",{style:{color:"#aaa"},children:" Reach green target"})]})]}),r.currentScene&&n.jsxs("div",{style:{marginTop:"12px",padding:"8px",backgroundColor:"rgba(139, 92, 246, 0.2)",borderRadius:"4px",textAlign:"center",fontSize:"12px",color:"#8b5cf6",fontWeight:"bold"},children:["üìç ",r.currentScene]}),n.jsxs("div",{style:{marginTop:"12px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[n.jsx("button",{onClick:()=>{const c=Math.max(0,(r.sceneIndex||0)-1);window.dispatchEvent(new CustomEvent("web-swinging-set-scene",{detail:{sceneIndex:c}}))},className:"btn",style:{padding:"6px 10px"},children:"‚¨ÖÔ∏è Prev"}),n.jsxs("div",{style:{fontSize:"12px",color:"#aaa"},children:["Scene ",(r.sceneIndex||0)+1," / ",r.totalScenes||7]}),n.jsx("button",{onClick:()=>{const c=Math.min(6,(r.sceneIndex||0)+1);window.dispatchEvent(new CustomEvent("web-swinging-set-scene",{detail:{sceneIndex:c}}))},className:"btn",style:{padding:"6px 10px"},children:"Next ‚û°Ô∏è"})]})]})]}),n.jsx("div",{style:{width:"400px",display:"flex",flexDirection:"column",gap:"20px"},children:l?n.jsxs(n.Fragment,{children:[n.jsxs("div",{style:{padding:"20px",backgroundColor:"#1a1a2e",borderRadius:"8px",border:"2px solid #ffd700"},children:[n.jsx("div",{style:{display:"inline-block",padding:"5px 15px",backgroundColor:l.actionType==="jump"?"#00ff00":"#00e5ff",color:"#000",borderRadius:"20px",fontSize:"14px",fontWeight:"bold",marginBottom:"10px"},children:l.actionType==="jump"?"ü¶ò JUMP":"üï∏Ô∏è WEB"}),n.jsx("p",{style:{fontSize:"14px",fontStyle:"italic",color:"#ffd700",margin:"10px 0"},children:l.storyContext})]}),n.jsxs("div",{style:{padding:"20px",backgroundColor:"#1a1a2e",borderRadius:"8px",border:"2px solid #8b5cf6"},children:[n.jsx("h3",{style:{margin:"0 0 15px 0",color:"#8b5cf6",fontSize:"20px"},children:l.question}),n.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"10px"},children:l.options.map((c,a)=>n.jsx("button",{onClick:()=>x(a),disabled:i!==null,style:{padding:"15px",fontSize:"16px",backgroundColor:i===a?a===l.correctIndex?"#00ff00":"#ff0000":l.actionType==="jump"?"#00aa00":"#00a5b5",color:"#ffffff",border:"none",borderRadius:"8px",cursor:i===null?"pointer":"not-allowed",fontWeight:"bold",transition:"all 0.3s",opacity:i!==null&&i!==a?.5:1},onMouseEnter:h=>{i===null&&(h.currentTarget.style.transform="scale(1.05)",h.currentTarget.style.boxShadow="0 0 20px rgba(139, 92, 246, 0.6)")},onMouseLeave:h=>{h.currentTarget.style.transform="scale(1)",h.currentTarget.style.boxShadow="none"},children:c},a))}),n.jsxs("div",{style:{marginTop:"15px",padding:"10px",backgroundColor:"#0f0f23",borderRadius:"5px",fontSize:"12px",color:"#aaa"},children:[n.jsx("strong",{children:"Concept:"})," ",l.concept,n.jsx("br",{}),n.jsx("strong",{children:"Hint:"})," ",l.hint]})]}),n.jsx("div",{style:{padding:"15px",backgroundColor:"#1a1a2e",borderRadius:"8px",border:"2px solid #ffd700",textAlign:"center"},children:n.jsxs("div",{style:{fontSize:"32px",fontWeight:"bold",color:"#ffd700"},children:["Score: ",t]})}),n.jsxs("div",{style:{padding:"15px",backgroundColor:"#1a1a2e",borderRadius:"8px",border:"2px solid #666"},children:[n.jsx("h4",{style:{margin:"0 0 10px 0",color:"#8b5cf6"},children:"Action Legend"}),n.jsxs("div",{style:{fontSize:"14px",lineHeight:"1.6"},children:[n.jsxs("p",{style:{margin:"5px 0"},children:[n.jsx("span",{style:{display:"inline-block",width:"20px",height:"20px",backgroundColor:"#00ff00",borderRadius:"3px",marginRight:"8px",verticalAlign:"middle"}}),n.jsx("strong",{children:"Jump:"})," Answer to leap across gaps"]}),n.jsxs("p",{style:{margin:"5px 0"},children:[n.jsx("span",{style:{display:"inline-block",width:"20px",height:"20px",backgroundColor:"#00e5ff",borderRadius:"3px",marginRight:"8px",verticalAlign:"middle"}}),n.jsx("strong",{children:"Web:"})," Answer to enable web shooting"]}),n.jsxs("p",{style:{margin:"10px 0 5px 0",fontSize:"12px",color:"#aaa"},children:["‚úì Correct = Better physics!",n.jsx("br",{}),"‚úó Wrong = Harder physics!"]})]})]})]}):n.jsxs("div",{style:{padding:"40px",backgroundColor:"#1a1a2e",borderRadius:"8px",border:"2px solid #8b5cf6",textAlign:"center"},children:[n.jsx("h2",{style:{color:"#8b5cf6",margin:"0 0 20px 0"},children:"üï∑Ô∏è SpiderCalc Adventure"}),n.jsx("p",{style:{fontSize:"16px",lineHeight:"1.6"},children:"Welcome, brave spider mathematician! Navigate through the Haunted Mansion of Functions to recover the legendary Derivative Crown!"}),n.jsxs("div",{style:{marginTop:"20px",padding:"15px",backgroundColor:"#0f0f23",borderRadius:"5px",textAlign:"left"},children:[n.jsx("h3",{style:{margin:"0 0 10px 0",color:"#ffd700"},children:"Your Quest:"}),n.jsxs("p",{style:{margin:"5px 0",fontSize:"14px"},children:["üìö Chapter 1: The Entrance Hall",n.jsx("br",{}),"üìö Chapter 2: The Integral Library",n.jsx("br",{}),"üìö Chapter 3: The Chamber of Limits",n.jsx("br",{}),"üìö Chapter 4: The Throne Room"]})]})]})})]})}export{H as StoryAdventureCanvas};
